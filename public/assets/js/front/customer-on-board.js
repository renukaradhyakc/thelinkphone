(()=>{"use strict";$(document).ready((function(){$("#fromTime, #toTime").select2(),$("#customerTimeZoneId").select2()}));var e=jstz.determine();document.cookie="timezoneName="+e.name(),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),listenSubmit("#frontCustomerOnBoardForm1",(function(e){return e.preventDefault(),""==$("#domainUrlId").val()?(displayErrorMessage("Domain URL field is required."),!1):""==$("#timeZoneId").val()?(displayErrorMessage("Timezone field is required."),!1):void $.ajax({url:route("customer.onboard.store"),type:"POST",data:$("#frontCustomerOnBoardForm1").serialize(),dataType:"json",success:function(e){e.success&&(""!=e.message&&displaySuccessMessage(e.message),window.location.reload())},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),listenSubmit("#frontCustomerOnBoardForm2",(function(e){return e.preventDefault(),""==$("#domainUrlId").val()?(displayErrorMessage("Domain URL field is required."),!1):""==$("#timeZoneId").val()?(displayErrorMessage("Timezone field is required."),!1):""==$("#fromTime").val()?(displayErrorMessage("From hour field is required."),!1):""==$("#toTime").val()||null==$("#toTime").val()?(displayErrorMessage("To hour field is required."),!1):0===$('input[name="day_of_week[]"]:checked').length?(displayErrorMessage("Please select any days"),!1):void $.ajax({url:route("customer.onboard.store"),type:"POST",data:$("#frontCustomerOnBoardForm2").serialize(),dataType:"json",success:function(e){e.success&&""!=e.message&&displaySuccessMessage(e.message),window.location.reload()},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),listenSubmit("#frontCustomerOnBoardForm3",(function(e){return e.preventDefault(),""==$("#domainUrlId").val()?(displayErrorMessage("Domain URL field is required."),!1):""==$("#timeZoneId").val()?(displayErrorMessage("Timezone field is required."),!1):""==$("#fromTime").val()?(displayErrorMessage("From hour field is required."),!1):""==$("#toTime").val()||null==$("#toTime").val()?(displayErrorMessage("To hour field is required."),!1):0===$('input[name="day_of_week[]"]:checked').length?(displayErrorMessage("Please select any days"),!1):0===$('input[name="personal_experience_id"]:checked').length?(displayErrorMessage("Personal experience field is required."),!1):void $.ajax({url:route("customer.onboard.store"),type:"POST",data:$("#frontCustomerOnBoardForm3").serialize(),dataType:"json",success:function(e){e.success&&(""!=e.message&&displaySuccessMessage(e.message),userRole?window.location.href=route("dashboard"):window.location.href=route("admin.dashboard"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),listen("keypress","#domainUrlId",(function(e){if(32===e.keyCode||95===e.keyCode)return!1;var r=e.keyCode||e.which;return!!/^[A-Za-z0-9\-]+$/.test(String.fromCharCode(r))&&void 0})),listenClick("#checkAllDays",(function(){$(this).is(":checked")?$(".day-of-week").each((function(){$(this).prop("checked",!0)})):$(".day-of-week").each((function(){$(this).prop("checked",!1)}))})),listenChange('select[name^="from_time"]',(function(e){var r=$(this)[0].selectedIndex,s=$(this).closest(".on-board-time").find('select[name^="to_time"] option'),o=$(this).closest(".on-board-time").find('select[name^="to_time"] option:selected')[0].index;24===r&&s.eq(0).prop("selected",!0).trigger("change"),r>=o&&s.eq(r+1).prop("selected",!0).trigger("change"),s.each((function(e){e<=r?$(this).attr("disabled",!0):$(this).attr("disabled",!1)}))})),listenChange('[name^="day_of_week[]"]',(function(){7==$('[name^="day_of_week[]"]:checked').length?$("#checkAllDays").prop("checked",!0):$("#checkAllDays").prop("checked",!1)}))})();